<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE HTML>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/template/template.xhtml">

	<ui:define name="conteudo">

		<ol class="breadcrumb">
			<li><a href="#">Inicio</a></li>
			<li><a href="#">Cliente</a></li>
			<li class="active">Cadastro</li>
		</ol>

		<h:form prependId="false" id="editarClientes">

			<p:fieldset legend="Dados Cadastrais">

				<div class="panel panel-default">
					<div class="panel-body">

						<div class="form-group row ">
							<label class="col-sm-2 control-label">Nome:</label>
							<div class="col-sm-10">
								<p:inputText id="nome" styleClass="form-control"
									value="#{editarClienteControlador.clienteSelecionado.nome}"></p:inputText>
							</div>
						</div>

						<div class="form-group row">
							<label class="col-sm-2 control-label">CPF:</label>
							<div class="col-sm-4">
								<p:inputMask styleClass="form-control" mask="?999.999.999-99"
									id="cpf"
									value="#{editarClienteControlador.clienteSelecionado.cpf}"
									maxlength="14" />
							</div>
						</div>

						<div class="form-group row">
							<label class="col-sm-2 control-label">RG:</label>
							<div class="col-sm-4">
								<p:inputMask styleClass="form-control" mask="?999.999-9" id="rg"
									value="#{editarClienteControlador.clienteSelecionado.rg}"
									maxlength="9" />
							</div>
						</div>

						<div class="form-group row">
							<label class="col-sm-2 control-label">Data de Nascimento:</label>
							<div class="col-sm-4">
								<p:calendar locale="pt_BR" navigator="true" pattern="dd/MM/yyyy"
									value="#{editarClienteControlador.clienteSelecionado.dtNascimento}"
									id="dtNascimento"
									maxdate="#{editarClienteControlador.dataMaxima}" />
							</div>
						</div>

						<br />

					</div>
				</div>
			</p:fieldset>

			<br />

			<p:fieldset legend="Dados de Contatos">

				<div class="panel panel-default">
					<div class="panel-body">

						<p:dataTable widgetVar="tabelaContato" id="tabelaContato"
							styleClass="table table-striped" var="contato"
							value="#{editarClienteControlador.contatoList}"
							emptyMessage="Nenhum contato cadastrado." paginator="true"
							paginatorAlwaysVisible="true" pageLinks="5" rows="5"
							rowsPerPageTemplate="5,10,15" paginatorPosition="bottom">

							<p:column headerText="Código" styleClass="text-center">
								<h:outputText styleClass="form-control" id="ddd"
									value="#{contato.ddd}" />
							</p:column>

							<p:column headerText="Telefone" styleClass="text-center">
								<h:outputText styleClass="form-control" id="telefone"
									value="#{contato.telefone}" />
							</p:column>

							<p:column headerText="email" styleClass="text-center">
								<h:outputText styleClass="form-control" id="email"
									value="#{contato.email}" />
							</p:column>

							<p:column headerText="Opções" styleClass="text-center">
								<div class="form-inline">
									<p:commandButton icon="ui-icon-pencil" title="Editar"
										actionListener="#{editarClienteControlador.editarContato(contato)}" />

									<p:commandButton icon="ui-icon-trash" title="Excluir"
										actionListener="#{editarClienteControlador.setContato(contato)}"
										oncomplete="PF('confirmarExclusaoContato').show();" />
								</div>
							</p:column>

						</p:dataTable>

						<p:commandButton value="Incluir" styleClass="btn btn-primary"
							oncomplete="PF('incluirContato').show();"
							actionListener="#{editarClienteControlador.limparModalContato()}" />

					</div>
				</div>

			</p:fieldset>

			<br />

			<p:fieldset legend="Dados do Endereço">
				<br />

				<div class="panel panel-default">
					<br />
					<div class="panel-body">

						<div class="form-group row ">
							<label class="col-sm-1 control-label">Rua:</label>
							<div class="col-sm-6">
								<p:inputText id="rua" styleClass="form-control"
									value="#{editarClienteControlador.clienteSelecionado.endereco.rua}"></p:inputText>
							</div>


							<label class="col-sm-1 control-label">CEP:</label>
							<div class="col-sm-2">
								<p:inputText id="cep" styleClass="form-control"
									value="#{editarClienteControlador.clienteSelecionado.endereco.cep}"></p:inputText>
							</div>
						</div>


						<div class="form-group row ">

							<label class="col-sm-1 control-label">Cidade:</label>
							<div class="col-sm-2">
								<p:inputText id="cidade" styleClass="form-control"
									value="#{editarClienteControlador.clienteSelecionado.endereco.cidade}"></p:inputText>
							</div>

							<label class="col-sm-1 control-label">Bairro:</label>
							<div class="col-sm-2">
								<p:inputText id="bairro" styleClass="form-control"
									value="#{editarClienteControlador.clienteSelecionado.endereco.bairro}"></p:inputText>
							</div>

							<label class="col-sm-1 control-label">Estado:</label>
							<div class="col-sm-1">
								<h:selectOneMenu id="estado"
									styleClass="width-full form-control"
									value="#{editarClienteControlador.clienteSelecionado.endereco.estado}"
									converter="genericConverter">
									<f:selectItems value="#{editarClienteControlador.estadoList}"
										var="estado" itemLabel="#{estado.sigla}" itemValue="#{estado}" />
								</h:selectOneMenu>
							</div>

							<label class="col-sm-1 control-label">Numero:</label>
							<div class="col-sm-1">
								<p:inputText id="numero" styleClass="form-control"
									value="#{editarClienteControlador.clienteSelecionado.endereco.numero}"></p:inputText>
							</div>
						</div>

					</div>
				</div>
			</p:fieldset>

			<br />

			<div class="form-inline text-center row">
				<div class="form-group">
					<label class="col-sm-2 control-label"></label>
					<div class="col-sm-2">
						<p:commandButton value="Salvar" styleClass="btn btn-success"
							process="editarClientes"
							action="#{editarClienteControlador.salvarCliente()}"
							oncomplete="PF('incluirCliente').hide();" />
					</div>
					<label class="col-sm-2 control-label"></label>
					<div class="col-sm-2">
						<p:commandButton value="Cancelar" styleClass="btn btn-danger"
							action="/listarCliente.jsf" />
					</div>

				</div>
			</div>


			<p:dialog modal="true" widgetVar="incluirContato" id="incluirContato"
				closable="true" draggable="false" width="700"
				header="Incluir Novo Contato" resizable="false">

				<div class="form-group row ">
					<label class="col-sm-2 control-label">Email:</label>
					<div class="col-sm-10">
						<p:inputText id="email" styleClass="form-control"
							value="#{editarClienteControlador.contato.email}"></p:inputText>
					</div>
				</div>

				<div class="form-group row ">
					<label class="col-sm-2 control-label">DDD:</label>
					<div class="col-sm-2">
						<p:inputText id="ddd" styleClass="form-control"
							value="#{editarClienteControlador.contato.ddd}"></p:inputText>
					</div>

					<label class="col-sm-2 control-label">Telefone:</label>
					<div class="col-sm-6">
						<p:inputText id="telefone" styleClass="form-control"
							value="#{editarClienteControlador.contato.telefone}"></p:inputText>
					</div>
				</div>


				<div class="form-inline text-center row">
					<div class="form-group">

						<p:commandButton id="btnConfirma" value="Confirmar"
							styleClass="btn btn-success"
							actionListener="#{editarClienteControlador.adiconarContato()}" />

						<p:commandButton id="btnCancela" value="Cancelar"
							styleClass="btn btn-danger" action="listarCliente.jsf?faces-redirect=true"
							oncomplete="PF('incluirContato').hide();" />
					</div>
				</div>

			</p:dialog>


			<p:confirmDialog widgetVar="confirmarExclusaoContato"
				id="confirmarExclusaoContato"
				message="Confirmar Exclusão deste item?" closable="false">

				<p:commandButton id="btnConfirmaExclusaoContato" value="Confirmar"
					styleClass="btn btn-success"
					oncomplete="PF('confirmarExclusaoContato').hide();"
					actionListener="#{editarClienteControlador.excluirContato()}" />

				<p:commandButton id="btnCancelaExclusaoContato" value="Cancelar"
					styleClass="btn btn-danger"
					oncomplete="PF('confirmarExclusaoContato').hide();" />

			</p:confirmDialog>


		</h:form>
	</ui:define>
</ui:composition>
