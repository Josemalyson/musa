<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE HTML>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/template/template.xhtml">

	<ui:define name="conteudo">

		<ol class="breadcrumb">
			<li><a href="#" class="disabled">Inicio</a></li>
			<li><a href="#" class="disabled">Pedido</a></li>
			<li><a href="#" class="active">Emitir Pedido</a></li>
		</ol>

		<h:form prependId="false" id="pedido">

			<h2>Pedido</h2>

			<div class="panel panel-default" style="width: 50%;">
				<div class="panel-body row">
					<div class="col-sm-4">
						<label class="control-label">Número do Pedido:</label>
						<h:outputText value="123" />
					</div>
					<div class="col-sm-8">
						<label class="control-label"> Data do Pedido: </label>
						<h:outputText value="#{pedidoControlador.pedido.dtPedido}">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</h:outputText>
					</div>
				</div>
			</div>


			<div id="cliente">
				<fieldset>
					<legend>Cliente</legend>
					<div class="panel-body row">
						<div class="col-sm-4">
							<label class="control-label">Nome Cliente:</label>
							<p:autoComplete id="clienteId"
								completeMethod="#{pedidoControlador.autoCompleteCliente}"
								converter="entityConverter" value="#{pedidoControlador.cliente}"
								dropdown="true" forceSelection="true" var="cliente"
								itemValue="#{cliente}" itemLabel="#{cliente.nome}">
								<p:ajax update="cpf" event="itemSelect"
									listener="#{pedidoControlador.atualizarCliente()}" />
							</p:autoComplete>
						</div>
						<div class="col-sm-4">
							<label class="control-label">CPF: </label>
							<h:outputText id="cpf" value="#{pedidoControlador.cliente.cpf}" />
						</div>
					</div>
				</fieldset>
			</div>

			<fieldset>
				<legend>Lista de Produtos</legend>

				<p:dataTable var="produto" value="#{pedidoControlador.produtoList}">
					<p:column headerText="Quantidade">
						<h:outputText value="#" />
					</p:column>
					<p:column headerText="Descrição Produto">
						<h:outputText value="#{produto.descricaoProduto}" />
					</p:column>
					<p:column headerText="Preço de Custo">
						<h:outputText value="#{produto.precoCusto}" />
					</p:column>
					<p:column headerText="Preço de Venda">
						<h:outputText value="#{produto.precoVenda}" />
					</p:column>

					<p:columnGroup type="footer">
						<p:row>
							<p:column colspan="2" style="text-align:right"
								footerText="Total" />
							<p:column footerText="#{pedidoControlador.totalCusto}" />
							<p:column footerText="#{pedidoControlador.totalVenda}" />
							
						</p:row>
					</p:columnGroup>
				</p:dataTable>

			</fieldset>

			<div class="espacamento20Px" />

			<p class="obrigatorio">Campos Obrigatórios</p>

		</h:form>
	</ui:define>

</ui:composition>